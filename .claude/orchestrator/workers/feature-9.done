## Feature 9: Flashcard API Routes - COMPLETED

### Implemented Endpoints

1. **GET /api/flashcards** - List flashcards with filtering
   - Query parameters: `domain` (int), `task` (int), `limit`, `offset`
   - Header: `X-Anonymous-Id` (optional) - returns user's progress if provided
   - Returns flashcards with associated progress data

2. **GET /api/flashcards/due/count** - Get count of flashcards due for review
   - Header: `X-Anonymous-Id` (required)
   - Query parameter: `domain` (optional filter)
   - Returns count and list of flashcard IDs due for review

3. **GET /api/flashcards/{flashcard_id}** - Get single flashcard
   - Header: `X-Anonymous-Id` (optional) - returns user's progress if provided
   - Returns 404 if flashcard not found

4. **POST /api/flashcards/{flashcard_id}/review** - Submit flashcard review
   - Header: `X-Anonymous-Id` (required)
   - Body: `{"quality": 0-5}` (SM-2 quality rating)
   - Implements full SM-2 spaced repetition algorithm
   - Returns updated ease_factor, interval, and next_review_at

### SM-2 Algorithm Implementation

The SM-2 algorithm is implemented in `calculate_sm2()` function:
- Quality ratings 0-5 (0-2 = failed, 3-5 = success)
- Ease factor adjustment: EF' = EF + (0.1 - (5 - q) * (0.08 + (5 - q) * 0.02))
- EF clamped between 1.3 and 2.5
- Failed responses reset repetitions to 0, interval to 1 day
- Successful responses:
  - 1st rep: interval = 1 day
  - 2nd rep: interval = 6 days
  - After: interval = previous_interval * EF

### Files Modified

1. **Created**: `backend/app/routers/flashcards.py` - Main flashcard API routes
2. **Modified**: `backend/app/main.py` - Added flashcards router import and registration
3. **Modified**: `backend/app/models/progress.py` - Fixed type mismatch (flashcard_id and question_id from UUID to Integer to match Flashcard/Question models)
4. **Modified**: `backend/app/schemas/flashcard.py` - Fixed FlashcardProgressResponse.flashcard_id type from UUID to int

### Anonymous User Support

- Uses `X-Anonymous-Id` header for user identification
- Automatically creates user records on first API call
- Progress is tracked per-user with the FlashcardProgress model
